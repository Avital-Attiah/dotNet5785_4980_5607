<Window x:Class="PL.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ניהול ראשי"
        MinHeight="450" MinWidth="700"
        Background="#E8F6FF"
        WindowStartupLocation="CenterScreen"
        DataContext="{Binding RelativeSource={RelativeSource Self}}">

    <!-- Border חיצוני עגול לבן עם גבול כחול -->
    <Border CornerRadius="15"
            BorderBrush="#007ACC"
            BorderThickness="2"
            Background="White"
            Padding="15"
            Margin="10">
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Auto">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*"/>
                    <!-- שעון והגדרות -->
                    <ColumnDefinition Width="2*"/>
                    <!-- מקום לפירוט עתידי -->
                    <ColumnDefinition Width="2*"/>
                    <!-- ניווט מהיר -->
                </Grid.ColumnDefinitions>

                <!-- ==============================================
                     1. שעון מערכת ומשתני תצורה (עמודה שמאלית)
                     ============================================== -->
                <StackPanel Grid.Column="0">
                    <!-- כותרת השעון -->
                    <TextBlock Text="שעון מערכת"
                               FontSize="18" FontWeight="Bold"
                               Foreground="#007ACC"
                               Margin="0,0,0,10"/>

                    <!-- תצוגת השעה הנוכחית -->
                    <TextBlock x:Name="txtClock"
                               Text="{Binding CurrentTime, StringFormat=HH\\:mm\\:ss dd/MM/yyyy}"
                               FontSize="28" FontWeight="SemiBold"
                               Foreground="#004A7F"
                               HorizontalAlignment="Left"
                               Margin="0,0,0,20"/>

                    <!-- כפתורי שליטה על השעון (WrapPanel יביא שורה חדשה אם רוחב לא יספיק) -->
                    <WrapPanel HorizontalAlignment="Left"
                              Margin="0,0,0,20"
                              ItemHeight="40" ItemWidth="110">
                        <Button Content="קדם בדקה"
                                Style="{StaticResource MainButtonStyle}"
                                Click="advance_minute"
                                FontSize="14"
                                Padding="5"
                                HorizontalContentAlignment="Center"
                                VerticalContentAlignment="Center"/>
                        <Button Content="קדם בשעה"
                                Style="{StaticResource MainButtonStyle}"
                                Click="advance_hour"
                                FontSize="14"
                                Padding="5"
                                HorizontalContentAlignment="Center"
                                VerticalContentAlignment="Center"/>
                        <Button Content="קדם ביום"
                                Style="{StaticResource MainButtonStyle}"
                                Click="advance_day"
                                FontSize="14"
                                Padding="5"
                                HorizontalContentAlignment="Center"
                                VerticalContentAlignment="Center"/>
                        <Button Content="קדם בשנה"
                                Style="{StaticResource MainButtonStyle}"
                                Click="advance_year"
                                FontSize="14"
                                Padding="5"
                                HorizontalContentAlignment="Center"
                                VerticalContentAlignment="Center"/>
                    </WrapPanel>

                    <!-- טווח זמן סיכון (RiskRangeMinutes) -->
                    <TextBlock Text="טווח זמן סיכון"
                               FontSize="16" FontWeight="Bold"
                               Foreground="#007ACC"
                               Margin="0,0,0,10"/>
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Left"
                                Margin="0,0,0,20">
                        <TextBox x:Name="txtRiskRange"
                                 Text="{Binding RiskRangeMinutes, Mode=TwoWay}"
                                 Width="80" Height="25"
                                 Padding="4"
                                 VerticalContentAlignment="Center"/>
                        <Button Content="עדכן"
                                Style="{StaticResource MainButtonStyle}"
                                Click="btnUpdateRiskRange_Click"
                                Margin="10,0,0,0"
                                Width="80"
                                Height="30"
                                FontSize="14"
                                HorizontalContentAlignment="Center"
                                VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- איפוס בסיס נתונים -->
                    <Button Content="איפוס בסיס נתונים"
                            Style="{StaticResource MainButtonStyle}"
                            Click="Reset_DB"
                            Margin="0,0,0,10"
                            Height="40"
                            Width="200"
                            FontSize="14"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"/>

                    <!-- אתחול בסיס נתונים לערכי התחלה -->
                    <Button Content="אתחול בסיס נתונים"
                            Style="{StaticResource MainButtonStyle}"
                            Click="Initialize_DB"
                            Height="40"
                            Width="200"
                            FontSize="14"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"/>
                </StackPanel>

                <!-- ===================================
                     2. עמודה מרכזית (ריקה לעת עתה)
                     =================================== -->
                <StackPanel Grid.Column="1" 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Top"
                            Margin="0,0,20,0">
                   
                    <!-- ניתן למלא כאן בעתיד גרפים או טקסט סטטיסטי -->
                </StackPanel>

                <!-- ================================================
                     3. ניווט מהיר: ניהול מתנדבים וניהול קריאות
                     ================================================ -->
                <StackPanel Grid.Column="2">
                    <TextBlock Text="ניווט מהיר"
                               FontSize="18" FontWeight="Bold"
                               Foreground="#007ACC"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,10"/>

                    <Button Content="ניהול מתנדבים"
                            Style="{StaticResource MainButtonStyle}"
                            Click="View_VolunteerList"
                            Margin="0,0,0,15"
                            Width="200"
                            Height="50"
                            FontSize="16"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"/>

                    <Button Content="ניהול קריאות"
                            Style="{StaticResource MainButtonStyle}"
                            Click="View_CallList"
                            Width="200"
                            Height="50"
                            FontSize="16"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"/>
                </StackPanel>

            </Grid>
        </ScrollViewer>
    </Border>
</Window>
